<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cutoff Time Architecture - Interactive Visualization</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
        }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        .nav-item {
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }
        .nav-item:hover, .nav-item.active {
            background: rgba(14, 165, 233, 0.1);
            border-left-color: #0ea5e9;
        }
        
        .diagram-container {
            background: #1e293b;
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
            padding: 2rem;
            background: #0f172a;
        }
        .mermaid svg { max-width: 100%; height: auto; }
        
        .section { animation: fadeIn 0.3s ease; }
        .section.hidden-section { display: none !important; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .card {
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        .card:hover {
            border-color: rgba(14, 165, 233, 0.5);
            transform: translateY(-2px);
        }
        
        .badge {
            background: rgba(14, 165, 233, 0.2);
            color: #38bdf8;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        .badge-orange { background: rgba(249, 115, 22, 0.2); color: #fb923c; }
        .badge-green { background: rgba(34, 197, 94, 0.2); color: #4ade80; }
        .badge-purple { background: rgba(168, 85, 247, 0.2); color: #c084fc; }
        
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        
        #loading {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: #0f172a;
            display: flex; align-items: center; justify-content: center;
            z-index: 9999;
        }
        #loading.done { display: none; }
        .spinner {
            width: 50px; height: 50px;
            border: 4px solid #1e293b;
            border-top-color: #0ea5e9;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        
        /* Language switcher */
        .lang-switch {
            display: flex;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 8px;
            padding: 2px;
            border: 1px solid rgba(148, 163, 184, 0.2);
        }
        .lang-btn {
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            color: #94a3b8;
        }
        .lang-btn.active {
            background: #0ea5e9;
            color: white;
        }
        .lang-btn:hover:not(.active) { color: white; }
        
        /* Language content - inline elements */
        .lang-en { display: none; }
        body.en .lang-pl { display: none; }
        body.en .lang-en { display: inline; }
        
        /* For block elements */
        .lang-block-en { display: none; }
        body.en .lang-block-pl { display: none; }
        body.en .lang-block-en { display: block; }
        
        .glossary-term {
            border-left: 3px solid #0ea5e9;
            padding-left: 1rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="text-slate-200">
    
    <div id="loading">
        <div class="text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-slate-400">
                <span class="lang-pl">Renderowanie diagram√≥w...</span>
                <span class="lang-en">Rendering diagrams...</span>
            </p>
        </div>
    </div>
    
    <header class="fixed top-0 left-0 right-0 z-50 bg-slate-900/90 backdrop-blur-sm border-b border-slate-700">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-sky-500 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="font-semibold text-white">Cutoff Time System</h1>
                    <p class="text-xs text-slate-400">
                        <span class="lang-pl">Dokumentacja Architektoniczna</span>
                        <span class="lang-en">Architecture Documentation</span>
                    </p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="lang-switch">
                    <button onclick="setLanguage('pl')" class="lang-btn active" id="lang-pl-btn">PL</button>
                    <button onclick="setLanguage('en')" class="lang-btn" id="lang-en-btn">EN</button>
                </div>
                <span class="badge badge-orange">
                    <span class="lang-pl">Faza: Koncepcja</span>
                    <span class="lang-en">Phase: Concept</span>
                </span>
                <span class="text-sm text-slate-400">v1.7</span>
            </div>
        </div>
    </header>

    <div class="flex pt-16">
        
        <nav class="fixed left-0 top-16 bottom-0 w-64 bg-slate-900/50 border-r border-slate-700 overflow-y-auto">
            <div class="p-4">
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3">Start</p>
                <button onclick="showSection('about')" class="nav-item active w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="about">
                    üìñ <span class="lang-pl">O Projekcie</span><span class="lang-en">About</span>
                </button>
                <button onclick="showSection('glossary')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="glossary">
                    üìö <span class="lang-pl">S≈Çownik Pojƒôƒá</span><span class="lang-en">Glossary</span>
                </button>
                
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 mt-6">
                    <span class="lang-pl">PrzeglƒÖd</span><span class="lang-en">Overview</span>
                </p>
                <button onclick="showSection('overview')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="overview">
                    üéØ Executive Summary
                </button>
                <button onclick="showSection('problem')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="problem">
                    ‚ùì <span class="lang-pl">Problem Biznesowy</span><span class="lang-en">Business Problem</span>
                </button>
                
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 mt-6">
                    <span class="lang-pl">Architektura</span><span class="lang-en">Architecture</span>
                </p>
                <button onclick="showSection('c4-context')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="c4-context">
                    üèóÔ∏è C4: Context
                </button>
                <button onclick="showSection('c4-container')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="c4-container">
                    üì¶ C4: Container
                </button>
                <button onclick="showSection('dataflow')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="dataflow">
                    üîÄ Data Flow
                </button>
                
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 mt-6">
                    <span class="lang-pl">Algorytm</span><span class="lang-en">Algorithm</span>
                </p>
                <button onclick="showSection('algorithm')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="algorithm">
                    üßÆ <span class="lang-pl">Logika Decyzyjna</span><span class="lang-en">Decision Logic</span>
                </button>
                <button onclick="showSection('sequence')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="sequence">
                    üìä Sequence Diagram
                </button>
                <button onclick="showSection('state')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="state">
                    üîÑ State Machine
                </button>
                
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 mt-6">
                    <span class="lang-pl">Dane</span><span class="lang-en">Data</span>
                </p>
                <button onclick="showSection('erd')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="erd">
                    üóÑÔ∏è <span class="lang-pl">Model Danych ERD</span><span class="lang-en">Data Model ERD</span>
                </button>
                <button onclick="showSection('sap-tables')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="sap-tables">
                    üìã <span class="lang-pl">Tabele SAP</span><span class="lang-en">SAP Tables</span>
                </button>
                
                <p class="text-xs font-semibold text-slate-500 uppercase tracking-wider mb-3 mt-6">
                    <span class="lang-pl">Realizacja</span><span class="lang-en">Implementation</span>
                </p>
                <button onclick="showSection('timeline')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="timeline">
                    üìÖ <span class="lang-pl">Harmonogram</span><span class="lang-en">Timeline</span>
                </button>
                <button onclick="showSection('risks')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="risks">
                    ‚ö†Ô∏è <span class="lang-pl">Ryzyka</span><span class="lang-en">Risks</span>
                </button>
                <button onclick="showSection('kpis')" class="nav-item w-full text-left px-4 py-2 rounded-r-lg text-sm" data-section="kpis">
                    üìà KPIs
                </button>
            </div>
        </nav>

        <main class="ml-64 flex-1 p-8">
            <div class="max-w-6xl mx-auto">

                <!-- ========== SECTION: About ========== -->
                <section id="about" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">O Projekcie</span>
                        <span class="lang-en">About This Project</span>
                    </h2>
                    <p class="text-slate-400 mb-8 text-lg">
                        <span class="lang-pl">Czym jest ten dokument i jak z niego korzystaƒá</span>
                        <span class="lang-en">What this document is and how to use it</span>
                    </p>
                    
                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                            <span class="text-2xl">üìÑ</span>
                            <span class="lang-pl">Czym jest ten dokument?</span>
                            <span class="lang-en">What is this document?</span>
                        </h3>
                        <p class="text-slate-300 mb-4">
                            <span class="lang-pl">
                                To jest <strong class="text-sky-400">dokumentacja architektoniczna</strong> (Architecture Documentation / Solution Design) 
                                systemu <strong>Cutoff Time</strong> - rozwiƒÖzania do automatycznego zarzƒÖdzania czasem granicznym 
                                przyjmowania zam√≥wie≈Ñ w magazynie.
                            </span>
                            <span class="lang-en">
                                This is an <strong class="text-sky-400">architecture documentation</strong> (Solution Design) 
                                for the <strong>Cutoff Time</strong> system - a solution for automated management of order acceptance 
                                deadline in warehouse operations.
                            </span>
                        </p>
                        <div class="bg-slate-800/50 rounded-lg p-4 border border-slate-700">
                            <p class="text-amber-400 font-medium mb-2">
                                ‚ö†Ô∏è <span class="lang-pl">Wa≈ºne:</span><span class="lang-en">Important:</span>
                            </p>
                            <p class="text-slate-300">
                                <span class="lang-pl">
                                    To <strong>NIE jest dzia≈ÇajƒÖca aplikacja</strong>. To zbi√≥r diagram√≥w, specyfikacji i plan√≥w, 
                                    kt√≥re stanowiƒÖ podstawƒô do implementacji systemu. Znajdujemy siƒô w fazie koncepcyjnej projektu.
                                </span>
                                <span class="lang-en">
                                    This is <strong>NOT a working application</strong>. It's a collection of diagrams, specifications and plans 
                                    that form the foundation for system implementation. We are in the conceptual phase of the project.
                                </span>
                            </p>
                        </div>
                    </div>

                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                            <span class="text-2xl">üó∫Ô∏è</span>
                            <span class="lang-pl">Gdzie jeste≈õmy w cyklu tworzenia rozwiƒÖzania?</span>
                            <span class="lang-en">Where are we in the solution development cycle?</span>
                        </h3>
                        
                        <div class="diagram-container mb-6">
                            <pre class="mermaid">
flowchart LR
    subgraph CURRENT[CURRENT PHASE]
        A[Discovery]
        B[Design]
    end
    
    subgraph NEXT[NEXT PHASES]
        C[Build]
        D[Test]
        E[Deploy]
    end
    
    subgraph FUTURE[MAINTENANCE]
        F[Operate]
    end
    
    A --> B
    B --> C
    C --> D
    D --> E
    E --> F
    
    style A fill:#0ea5e9,stroke:#38bdf8,stroke-width:3px
    style B fill:#8b5cf6,stroke:#a78bfa,stroke-width:3px
    style C fill:#475569,stroke:#64748b
    style D fill:#475569,stroke:#64748b
    style E fill:#475569,stroke:#64748b
    style F fill:#475569,stroke:#64748b
                            </pre>
                        </div>

                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="bg-gradient-to-br from-sky-500/20 to-violet-500/20 rounded-lg p-4 border-2 border-sky-500">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="badge"><span class="lang-pl">TERAZ</span><span class="lang-en">NOW</span></span>
                                    <span class="font-semibold text-white">Discovery + Design</span>
                                </div>
                                <ul class="text-sm text-slate-300 space-y-1">
                                    <li>‚úÖ <span class="lang-pl">Analiza wymaga≈Ñ biznesowych</span><span class="lang-en">Business requirements analysis</span></li>
                                    <li>‚úÖ <span class="lang-pl">Specyfikacja algorytmu</span><span class="lang-en">Algorithm specification</span></li>
                                    <li>‚úÖ <span class="lang-pl">Architektura rozwiƒÖzania</span><span class="lang-en">Solution architecture</span></li>
                                    <li>‚úÖ <span class="lang-pl">Model danych</span><span class="lang-en">Data model</span></li>
                                    <li>‚úÖ <span class="lang-pl">Plan wdro≈ºenia</span><span class="lang-en">Implementation plan</span></li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-4 border border-slate-600">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="badge badge-orange"><span class="lang-pl">NASTƒòPNE</span><span class="lang-en">NEXT</span></span>
                                    <span class="font-semibold text-white">Build + Test</span>
                                </div>
                                <ul class="text-sm text-slate-400 space-y-1">
                                    <li>‚óã <span class="lang-pl">Implementacja CDS Views</span><span class="lang-en">CDS Views implementation</span></li>
                                    <li>‚óã <span class="lang-pl">Rozw√≥j API</span><span class="lang-en">API development</span></li>
                                    <li>‚óã <span class="lang-pl">Integracja SAP BTP</span><span class="lang-en">SAP BTP integration</span></li>
                                    <li>‚óã <span class="lang-pl">Testy</span><span class="lang-en">Testing</span></li>
                                    <li>‚óã UAT</li>
                                </ul>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-4 border border-slate-600">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="badge badge-green"><span class="lang-pl">PRZYSZ≈ÅO≈öƒÜ</span><span class="lang-en">FUTURE</span></span>
                                    <span class="font-semibold text-white">Deploy + Operate</span>
                                </div>
                                <ul class="text-sm text-slate-400 space-y-1">
                                    <li>‚óã <span class="lang-pl">Wdro≈ºenie PROD</span><span class="lang-en">PROD deployment</span></li>
                                    <li>‚óã <span class="lang-pl">Konfiguracja monitoringu</span><span class="lang-en">Monitoring setup</span></li>
                                    <li>‚óã <span class="lang-pl">Szkolenia</span><span class="lang-en">Training</span></li>
                                    <li>‚óã Hypercare</li>
                                    <li>‚óã <span class="lang-pl">CiƒÖg≈Çe doskonalenie</span><span class="lang-en">Continuous improvement</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                            <span class="text-2xl">üéØ</span>
                            <span class="lang-pl">Czemu s≈Çu≈ºy ta dokumentacja?</span>
                            <span class="lang-en">What is this documentation for?</span>
                        </h3>
                        
                        <div class="grid md:grid-cols-3 gap-6">
                            <div class="bg-slate-800/50 rounded-lg p-5 border border-slate-700">
                                <div class="text-3xl mb-3">üíº</div>
                                <h4 class="font-semibold text-white mb-2">Pre-sales</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    <span class="lang-pl">Prezentacja dla klienta pokazujƒÖca jak rozwiƒÖzanie bƒôdzie wyglƒÖdaƒá <strong>zanim zostanie zbudowane</strong>.</span>
                                    <span class="lang-en">Client presentation showing how the solution will look <strong>before it's built</strong>.</span>
                                </p>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-5 border border-slate-700">
                                <div class="text-3xl mb-3">üë®‚Äçüíª</div>
                                <h4 class="font-semibold text-white mb-2">
                                    <span class="lang-pl">Podstawa do implementacji</span>
                                    <span class="lang-en">Implementation Basis</span>
                                </h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    <span class="lang-pl">Developer mo≈ºe z tej dokumentacji <strong>rozpoczƒÖƒá kodowanie</strong>.</span>
                                    <span class="lang-en">Developers can <strong>start coding</strong> from this documentation.</span>
                                </p>
                            </div>
                            <div class="bg-slate-800/50 rounded-lg p-5 border border-slate-700">
                                <div class="text-3xl mb-3">ü§ù</div>
                                <h4 class="font-semibold text-white mb-2">Discovery Workshop</h4>
                                <p class="text-sm text-slate-400 mb-3">
                                    <span class="lang-pl">Materia≈Ç do <strong>warsztat√≥w z klientem</strong> - wsp√≥lne doprecyzowanie wymaga≈Ñ.</span>
                                    <span class="lang-en">Material for <strong>client workshops</strong> - joint requirements refinement.</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                            <span class="text-2xl">üìë</span>
                            <span class="lang-pl">Przewodnik po zak≈Çadkach</span>
                            <span class="lang-en">Tab Guide</span>
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="border-l-4 border-sky-500 pl-4">
                                <h4 class="font-semibold text-sky-400 mb-2">START</h4>
                                <div class="grid md:grid-cols-2 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìñ <span class="lang-pl">O Projekcie</span><span class="lang-en">About</span></span>
                                        <p class="text-slate-400 mt-1">
                                            <span class="lang-pl">Wprowadzenie, kontekst, jak czytaƒá dokumentacjƒô</span>
                                            <span class="lang-en">Introduction, context, how to read the documentation</span>
                                        </p>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìö <span class="lang-pl">S≈Çownik</span><span class="lang-en">Glossary</span></span>
                                        <p class="text-slate-400 mt-1">
                                            <span class="lang-pl">Definicje termin√≥w</span>
                                            <span class="lang-en">Term definitions</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-emerald-500 pl-4">
                                <h4 class="font-semibold text-emerald-400 mb-2">
                                    <span class="lang-pl">PRZEGLƒÑD</span><span class="lang-en">OVERVIEW</span>
                                </h4>
                                <div class="grid md:grid-cols-2 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üéØ Executive Summary</span>
                                        <p class="text-slate-400 mt-1">
                                            <span class="lang-pl">Problem, rozwiƒÖzanie, warto≈õƒá</span>
                                            <span class="lang-en">Problem, solution, value</span>
                                        </p>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">‚ùì <span class="lang-pl">Problem Biznesowy</span><span class="lang-en">Business Problem</span></span>
                                        <p class="text-slate-400 mt-1">AS-IS / TO-BE</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-violet-500 pl-4">
                                <h4 class="font-semibold text-violet-400 mb-2">
                                    <span class="lang-pl">ARCHITEKTURA</span><span class="lang-en">ARCHITECTURE</span>
                                </h4>
                                <div class="grid md:grid-cols-3 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üèóÔ∏è C4: Context</span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üì¶ C4: Container</span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üîÄ Data Flow</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-amber-500 pl-4">
                                <h4 class="font-semibold text-amber-400 mb-2">
                                    <span class="lang-pl">ALGORYTM</span><span class="lang-en">ALGORITHM</span>
                                </h4>
                                <div class="grid md:grid-cols-3 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üßÆ <span class="lang-pl">Logika</span><span class="lang-en">Logic</span></span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìä Sequence</span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üîÑ State Machine</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-pink-500 pl-4">
                                <h4 class="font-semibold text-pink-400 mb-2">
                                    <span class="lang-pl">DANE</span><span class="lang-en">DATA</span>
                                </h4>
                                <div class="grid md:grid-cols-2 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üóÑÔ∏è ERD</span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìã SAP Tables</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="border-l-4 border-red-500 pl-4">
                                <h4 class="font-semibold text-red-400 mb-2">
                                    <span class="lang-pl">REALIZACJA</span><span class="lang-en">IMPLEMENTATION</span>
                                </h4>
                                <div class="grid md:grid-cols-3 gap-3 text-sm">
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìÖ <span class="lang-pl">Harmonogram</span><span class="lang-en">Timeline</span></span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">‚ö†Ô∏è <span class="lang-pl">Ryzyka</span><span class="lang-en">Risks</span></span>
                                    </div>
                                    <div class="bg-slate-800/30 rounded p-3">
                                        <span class="font-medium text-white">üìà KPIs</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                            <span class="text-2xl">üöÄ</span>
                            <span class="lang-pl">Co dalej? Plan kolejnych faz</span>
                            <span class="lang-en">What's next? Upcoming phases plan</span>
                        </h3>
                        
                        <div class="space-y-6">
                            <div class="bg-gradient-to-r from-sky-500/10 to-transparent rounded-lg p-5 border-l-4 border-sky-500">
                                <div class="flex items-center gap-3 mb-3">
                                    <span class="bg-sky-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                        <span class="lang-pl">FAZA 1</span><span class="lang-en">PHASE 1</span>
                                    </span>
                                    <span class="font-semibold text-white">Discovery & Design</span>
                                    <span class="badge">6 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                                    <span class="badge badge-green"><span class="lang-pl">W TRAKCIE</span><span class="lang-en">IN PROGRESS</span></span>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-violet-500/10 to-transparent rounded-lg p-5 border-l-4 border-violet-500">
                                <div class="flex items-center gap-3 mb-3">
                                    <span class="bg-violet-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                        <span class="lang-pl">FAZA 2</span><span class="lang-en">PHASE 2</span>
                                    </span>
                                    <span class="font-semibold text-white">Proof of Concept (PoC)</span>
                                    <span class="badge">9 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                                    <span class="badge badge-orange"><span class="lang-pl">PLANOWANA</span><span class="lang-en">PLANNED</span></span>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-emerald-500/10 to-transparent rounded-lg p-5 border-l-4 border-emerald-500">
                                <div class="flex items-center gap-3 mb-3">
                                    <span class="bg-emerald-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                        <span class="lang-pl">FAZA 3</span><span class="lang-en">PHASE 3</span>
                                    </span>
                                    <span class="font-semibold text-white">Production & Go-Live</span>
                                    <span class="badge">5 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                                    <span class="badge badge-orange"><span class="lang-pl">PLANOWANA</span><span class="lang-en">PLANNED</span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Glossary ========== -->
                <section id="glossary" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">S≈Çownik Pojƒôƒá</span>
                        <span class="lang-en">Glossary</span>
                    </h2>
                    <p class="text-slate-400 mb-8 text-lg">
                        <span class="lang-pl">Kluczowe terminy u≈ºywane w tej dokumentacji</span>
                        <span class="lang-en">Key terms used in this documentation</span>
                    </p>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-sky-400 mb-4">
                                <span class="lang-pl">Pojƒôcia biznesowe</span>
                                <span class="lang-en">Business Terms</span>
                            </h3>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">Cutoff Time</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Godzina graniczna, do kt√≥rej mo≈ºna przyjmowaƒá zam√≥wienia z obietnicƒÖ wysy≈Çki "na dzi≈õ".</span>
                                    <span class="lang-en">The deadline by which orders can be accepted with a promise of "same-day" shipping.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">Same-Day Delivery</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Dostawa tego samego dnia. Kluczowy KPI dla operacji magazynowych.</span>
                                    <span class="lang-en">Delivery on the same day. Key KPI for warehouse operations.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">Workload</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Suma pracoch≈Çonno≈õci wszystkich zam√≥wie≈Ñ oczekujƒÖcych na realizacjƒô.</span>
                                    <span class="lang-en">The sum of labor required for all orders waiting to be fulfilled.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">Capacity</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Maksymalna ilo≈õƒá pracy, kt√≥rƒÖ magazyn mo≈ºe wykonaƒá w jednostce czasu.</span>
                                    <span class="lang-en">Maximum amount of work the warehouse can perform per unit of time.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">Utilization</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Stosunek aktualnego obciƒÖ≈ºenia do przepustowo≈õci.</span>
                                    <span class="lang-en">The ratio of current workload to capacity.</span>
                                    <code class="bg-slate-800 px-1 rounded ml-2">WORKLOAD / CAPACITY √ó 100%</code>
                                </p>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <h3 class="text-lg font-semibold text-violet-400 mb-4">
                                <span class="lang-pl">Pojƒôcia techniczne</span>
                                <span class="lang-en">Technical Terms</span>
                            </h3>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">SAP S/4HANA</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Zintegrowany system ERP firmy SAP.</span>
                                    <span class="lang-en">SAP's integrated ERP system.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">SAP BTP</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">SAP Business Technology Platform - platforma chmurowa.</span>
                                    <span class="lang-en">SAP Business Technology Platform - cloud platform.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">CDS Views</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Core Data Services - warstwa semantyczna w SAP HANA.</span>
                                    <span class="lang-en">Core Data Services - semantic layer in SAP HANA.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">C4 Model</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Metoda dokumentowania architektury na 4 poziomach.</span>
                                    <span class="lang-en">A method for documenting architecture at 4 levels.</span>
                                </p>
                            </div>
                            
                            <div class="glossary-term">
                                <h4 class="font-semibold text-white">ERD</h4>
                                <p class="text-sm text-slate-400">
                                    <span class="lang-pl">Entity Relationship Diagram - diagram encji.</span>
                                    <span class="lang-en">Entity Relationship Diagram - entity diagram.</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card p-6 mt-8">
                        <h3 class="text-lg font-semibold text-emerald-400 mb-4">
                            <span class="lang-pl">Tabele SAP - szybki s≈Çownik</span>
                            <span class="lang-en">SAP Tables - Quick Reference</span>
                        </h3>
                        <div class="grid md:grid-cols-4 gap-4 text-sm">
                            <div class="bg-slate-800/50 rounded p-3">
                                <code class="text-sky-400 font-bold">VBAK</code>
                                <p class="text-slate-400 mt-1">
                                    <span class="lang-pl">Nag≈Ç√≥wek zlecenia</span>
                                    <span class="lang-en">Order header</span>
                                </p>
                            </div>
                            <div class="bg-slate-800/50 rounded p-3">
                                <code class="text-sky-400 font-bold">VBAP</code>
                                <p class="text-slate-400 mt-1">
                                    <span class="lang-pl">Pozycje zlecenia</span>
                                    <span class="lang-en">Order items</span>
                                </p>
                            </div>
                            <div class="bg-slate-800/50 rounded p-3">
                                <code class="text-sky-400 font-bold">LIKP</code>
                                <p class="text-slate-400 mt-1">
                                    <span class="lang-pl">Nag≈Ç√≥wek dostawy</span>
                                    <span class="lang-en">Delivery header</span>
                                </p>
                            </div>
                            <div class="bg-slate-800/50 rounded p-3">
                                <code class="text-sky-400 font-bold">LTAP</code>
                                <p class="text-slate-400 mt-1">
                                    <span class="lang-pl">Zlecenie WH</span>
                                    <span class="lang-en">WH order</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Overview ========== -->
                <section id="overview" class="section">
                    <h2 class="text-3xl font-bold text-white mb-6">Executive Summary</h2>
                    <p class="text-slate-400 mb-8 text-lg">
                        <span class="lang-pl">System Oceny ObciƒÖ≈ºenia Magazynu - Real-time Cutoff Time Engine</span>
                        <span class="lang-en">Warehouse Workload Assessment System - Real-time Cutoff Time Engine</span>
                    </p>
                    
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="card p-6">
                            <div class="text-4xl mb-4">üéØ</div>
                            <h3 class="font-semibold text-white mb-2">Problem</h3>
                            <p class="text-sm text-slate-400">
                                <span class="lang-pl">Brak automatycznego mechanizmu okre≈õlajƒÖcego, do kiedy mo≈ºna przyjmowaƒá zam√≥wienia z wysy≈ÇkƒÖ "na dzi≈õ"</span>
                                <span class="lang-en">No automated mechanism to determine until when orders can be accepted for "same-day" shipping</span>
                            </p>
                        </div>
                        <div class="card p-6">
                            <div class="text-4xl mb-4">üí°</div>
                            <h3 class="font-semibold text-white mb-2">
                                <span class="lang-pl">RozwiƒÖzanie</span>
                                <span class="lang-en">Solution</span>
                            </h3>
                            <p class="text-sm text-slate-400">
                                <span class="lang-pl">Algorytm Real-Time obliczajƒÖcy dynamiczny Cutoff Time na podstawie obciƒÖ≈ºenia i przepustowo≈õci</span>
                                <span class="lang-en">Real-time algorithm calculating dynamic Cutoff Time based on workload and capacity</span>
                            </p>
                        </div>
                        <div class="card p-6">
                            <div class="text-4xl mb-4">üöÄ</div>
                            <h3 class="font-semibold text-white mb-2">
                                <span class="lang-pl">Warto≈õƒá</span>
                                <span class="lang-en">Value</span>
                            </h3>
                            <p class="text-sm text-slate-400">
                                <span class="lang-pl">+20% Same-Day Delivery, -60% reklamacji, eliminacja nadgodzin</span>
                                <span class="lang-en">+20% Same-Day Delivery, -60% complaints, overtime elimination</span>
                            </p>
                        </div>
                    </div>

                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Koncepcja RozwiƒÖzania</span>
                                <span class="lang-en">Solution Concept</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
graph LR
    subgraph INPUT[INPUT]
        A[Sales Order]
        B[Warehouse Status]
        C[Resources]
    end
    
    subgraph PROCESSING[PROCESSING]
        D[Cutoff Time Algorithm]
    end
    
    subgraph OUTPUT[OUTPUT]
        E{Decision}
        F[Ship TODAY]
        G[Ship TOMORROW]
    end
    
    A --> D
    B --> D
    C --> D
    D --> E
    E -->|capacity OK| F
    E -->|exceeded| G
    
    style D fill:#0ea5e9,stroke:#38bdf8,stroke-width:2px
    style F fill:#22c55e,stroke:#4ade80
    style G fill:#ef4444,stroke:#f87171
                        </pre>
                    </div>

                    <div class="mt-8 grid md:grid-cols-4 gap-4">
                        <div class="card p-4 text-center">
                            <div class="text-2xl font-bold text-sky-400">3</div>
                            <div class="text-xs text-slate-400">
                                <span class="lang-pl">Fazy Projektu</span>
                                <span class="lang-en">Project Phases</span>
                            </div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl font-bold text-sky-400">~18</div>
                            <div class="text-xs text-slate-400">
                                <span class="lang-pl">Tygodni</span>
                                <span class="lang-en">Weeks</span>
                            </div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl font-bold text-sky-400">SAP</div>
                            <div class="text-xs text-slate-400">HANA + BTP</div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl font-bold text-sky-400">&lt;500ms</div>
                            <div class="text-xs text-slate-400">Response Time</div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Problem ========== -->
                <section id="problem" class="section">
                    <h2 class="text-3xl font-bold text-white mb-6">
                        <span class="lang-pl">Problem Biznesowy</span>
                        <span class="lang-en">Business Problem</span>
                    </h2>
                    
                    <div class="diagram-container mb-8">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Obecny Stan AS-IS</span>
                                <span class="lang-en">Current State AS-IS</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
graph TB
    subgraph PROBLEM[CURRENT PROBLEMS]
        P1[No workload visibility]
        P2[Manual Cutoff setting]
        P3[Customer complaints]
        P4[Overtime and chaos]
    end
    
    subgraph IMPACT[BUSINESS IMPACT]
        I1[72% Same-Day]
        I2[15 complaints/week]
        I3[40h overtime/week]
        I4[Team frustration]
    end
    
    P1 --> I1
    P2 --> I2
    P3 --> I3
    P4 --> I4
    
    style P1 fill:#dc2626,stroke:#ef4444
    style P2 fill:#dc2626,stroke:#ef4444
    style P3 fill:#dc2626,stroke:#ef4444
    style P4 fill:#dc2626,stroke:#ef4444
                        </pre>
                    </div>

                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Wymagania ‚Üí RozwiƒÖzanie</span>
                                <span class="lang-en">Requirements ‚Üí Solution</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
graph LR
    subgraph REQ[REQUIREMENTS]
        R1[Assess workload]
        R2[Indicate Cutoff]
        R3[Consider resources]
        R4[Transparency]
    end
    
    subgraph SOL[SOLUTION]
        S1[HANA Algorithm]
        S2[BTP API]
        S3[CDS Views]
        S4[Grafana]
    end
    
    R1 --> S1
    R2 --> S2
    R3 --> S3
    R4 --> S4
    
    style S1 fill:#0ea5e9,stroke:#38bdf8
    style S2 fill:#0ea5e9,stroke:#38bdf8
    style S3 fill:#0ea5e9,stroke:#38bdf8
    style S4 fill:#0ea5e9,stroke:#38bdf8
                        </pre>
                    </div>
                </section>

                <!-- ========== SECTION: C4 Context ========== -->
                <section id="c4-context" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">C4 Model: System Context</h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Poziom 1 - Widok z lotu ptaka</span>
                        <span class="lang-en">Level 1 - Bird's eye view</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700 flex items-center justify-between">
                            <h3 class="font-semibold text-white">System Context Diagram</h3>
                            <span class="badge">C4 Level 1</span>
                        </div>
                        <pre class="mermaid">
graph TB
    subgraph USERS[USERS]
        U1[Sales Rep]
        U2[Warehouse Manager]
        U3[Operations Director]
    end
    
    SYS[CUTOFF TIME ENGINE]
    
    subgraph EXTERNAL[EXTERNAL SYSTEMS]
        E1[SAP S4HANA]
        E2[SAP BTP]
        E3[Grafana]
        E4[Email SMS]
    end
    
    U1 -->|checks| SYS
    U2 -->|monitors| SYS
    U3 -->|analyzes| SYS
    
    SYS <-->|data| E1
    SYS <-->|hosting| E2
    SYS -->|metrics| E3
    SYS -->|alerts| E4
    
    style SYS fill:#0ea5e9,stroke:#38bdf8,stroke-width:3px
                        </pre>
                    </div>

                    <div class="mt-6 grid md:grid-cols-2 gap-4">
                        <div class="card p-4">
                            <h4 class="font-semibold text-white mb-2">
                                üë• <span class="lang-pl">Aktorzy</span><span class="lang-en">Actors</span>
                            </h4>
                            <ul class="text-sm text-slate-400 space-y-1">
                                <li>‚Ä¢ <strong>Sales Rep</strong> - <span class="lang-pl">sprawdza dostƒôpno≈õƒá</span><span class="lang-en">checks availability</span></li>
                                <li>‚Ä¢ <strong>Warehouse Manager</strong> - <span class="lang-pl">monitoruje obciƒÖ≈ºenie</span><span class="lang-en">monitors workload</span></li>
                                <li>‚Ä¢ <strong>Operations Director</strong> - <span class="lang-pl">analizuje trendy</span><span class="lang-en">analyzes trends</span></li>
                            </ul>
                        </div>
                        <div class="card p-4">
                            <h4 class="font-semibold text-white mb-2">
                                üîó <span class="lang-pl">Integracje</span><span class="lang-en">Integrations</span>
                            </h4>
                            <ul class="text-sm text-slate-400 space-y-1">
                                <li>‚Ä¢ <strong>SAP S/4HANA</strong> - <span class="lang-pl">≈∫r√≥d≈Ço danych</span><span class="lang-en">data source</span></li>
                                <li>‚Ä¢ <strong>SAP BTP</strong> - hosting API</li>
                                <li>‚Ä¢ <strong>Grafana</strong> - monitoring</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: C4 Container ========== -->
                <section id="c4-container" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">C4 Model: Container Diagram</h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Poziom 2 - Komponenty systemu</span>
                        <span class="lang-en">Level 2 - System components</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700 flex items-center justify-between">
                            <h3 class="font-semibold text-white">Container Diagram</h3>
                            <span class="badge">C4 Level 2</span>
                        </div>
                        <pre class="mermaid">
graph TB
    subgraph BTP[SAP BTP]
        API[Cutoff API FastAPI]
        CACHE[Redis Cache]
    end
    
    subgraph HANA[SAP HANA]
        CDS1[V_ORDER_WORKLOAD]
        CDS2[V_WAREHOUSE_CAPACITY]
        CDS3[V_CUTOFF_CALCULATION]
    end
    
    subgraph S4[SAP S4HANA]
        VBAK[VBAK VBAP]
        LIKP[LIKP LIPS]
        RES[Resources]
    end
    
    subgraph MON[MONITORING]
        GRAF[Grafana]
        ALERT[AlertManager]
    end
    
    API <--> CACHE
    API <--> CDS3
    CDS3 --> CDS1
    CDS3 --> CDS2
    
    VBAK -.-> CDS1
    LIKP -.-> CDS1
    RES -.-> CDS2
    
    API --> GRAF
    GRAF --> ALERT
    
    style API fill:#0ea5e9,stroke:#38bdf8,stroke-width:2px
    style CDS3 fill:#8b5cf6,stroke:#a78bfa,stroke-width:2px
                        </pre>
                    </div>

                    <div class="mt-6 grid md:grid-cols-4 gap-4">
                        <div class="card p-4 text-center">
                            <div class="text-2xl mb-2">üêç</div>
                            <div class="font-semibold text-white">Python</div>
                            <div class="text-xs text-slate-400">FastAPI</div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl mb-2">üíæ</div>
                            <div class="font-semibold text-white">SAP HANA</div>
                            <div class="text-xs text-slate-400">CDS Views</div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl mb-2">‚òÅÔ∏è</div>
                            <div class="font-semibold text-white">SAP BTP</div>
                            <div class="text-xs text-slate-400">Cloud Foundry</div>
                        </div>
                        <div class="card p-4 text-center">
                            <div class="text-2xl mb-2">üìà</div>
                            <div class="font-semibold text-white">Grafana</div>
                            <div class="text-xs text-slate-400">Monitoring</div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Data Flow ========== -->
                <section id="dataflow" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">Data Flow Diagram</h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Przep≈Çyw danych przez system</span>
                        <span class="lang-en">Data flow through the system</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">Data Flow</h3>
                        </div>
                        <pre class="mermaid">
flowchart LR
    subgraph SOURCE[SOURCES]
        SO[Sales Orders]
        DL[Deliveries]
        WH[Warehouse Tasks]
        RS[Resources]
    end
    
    subgraph TRANSFORM[TRANSFORMATION]
        V1[V_ORDER_WORKLOAD]
        V2[V_CAPACITY]
        V3[V_CUTOFF_CALC]
    end
    
    subgraph APIEP[API ENDPOINTS]
        EP1[/capacity/check]
        EP2[/cutoff/current]
        EP3[/status]
    end
    
    subgraph OUTPUT[CONSUMERS]
        UI[SAP Fiori]
        DASH[Grafana]
        NOTIF[Notifications]
    end
    
    SO --> V1
    DL --> V1
    WH --> V1
    RS --> V2
    
    V1 --> V3
    V2 --> V3
    
    V3 --> EP1
    V3 --> EP2
    V3 --> EP3
    
    EP1 --> UI
    EP2 --> DASH
    EP3 --> NOTIF
    
    style V3 fill:#0ea5e9,stroke:#38bdf8,stroke-width:2px
                        </pre>
                    </div>
                </section>

                <!-- ========== SECTION: Algorithm ========== -->
                <section id="algorithm" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">Logika Decyzyjna</span>
                        <span class="lang-en">Decision Logic</span>
                    </h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Algorytm podejmowania decyzji</span>
                        <span class="lang-en">Decision-making algorithm</span>
                    </p>
                    
                    <div class="diagram-container mb-8">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Flowchart Decyzyjny</span>
                                <span class="lang-en">Decision Flowchart</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
flowchart TD
    START([New Order]) --> CALC[Calculate W_new]
    CALC --> STATE[Get current state]
    STATE --> UTIL[Calculate Utilization]
    UTIL --> CHECK{U less than 85%}
    
    CHECK -->|YES| TIME[Calculate time]
    CHECK -->|NO| VIP{VIP order?}
    
    TIME --> DEADLINE{Before Deadline?}
    DEADLINE -->|YES| OK[SHIP TODAY]
    DEADLINE -->|NO| NO1[TOMORROW - TIME]
    
    VIP -->|YES| RESERVE{Reserve available?}
    VIP -->|NO| NO2[TOMORROW - CAPACITY]
    
    RESERVE -->|YES| OK2[TODAY - VIP]
    RESERVE -->|NO| NO3[TOMORROW - VIP FULL]
    
    style OK fill:#22c55e,stroke:#4ade80,stroke-width:2px
    style OK2 fill:#22c55e,stroke:#4ade80,stroke-width:2px
    style NO1 fill:#ef4444,stroke:#f87171,stroke-width:2px
    style NO2 fill:#ef4444,stroke:#f87171,stroke-width:2px
    style NO3 fill:#ef4444,stroke:#f87171,stroke-width:2px
    style CHECK fill:#f59e0b,stroke:#fbbf24,stroke-width:2px
                        </pre>
                    </div>

                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Model Matematyczny</span>
                                <span class="lang-en">Mathematical Model</span>
                            </h3>
                        </div>
                        <div class="p-6 bg-slate-900 font-mono text-sm">
                            <div class="space-y-4">
                                <div>
                                    <span class="text-sky-400">// Workload</span><br>
                                    <span class="text-white">W = Œ£(qty √ó weight √ó location) + setup + packing</span>
                                </div>
                                <div>
                                    <span class="text-sky-400">// Total Workload</span><br>
                                    <span class="text-white">WORKLOAD(t) = Œ£ Wi √ó progress_factor</span>
                                </div>
                                <div>
                                    <span class="text-sky-400">// Capacity</span><br>
                                    <span class="text-white">CAPACITY = MIN(pickers, packers, loaders) √ó efficiency</span>
                                </div>
                                <div class="pt-4 border-t border-slate-700">
                                    <span class="text-emerald-400">// Decision</span><br>
                                    <span class="text-white">IF UTIL &lt; 85% AND completion &lt; deadline</span><br>
                                    <span class="text-emerald-400 ml-4">THEN Ship today ‚úì</span><br>
                                    <span class="text-red-400 ml-4">ELSE Ship tomorrow ‚úó</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Sequence ========== -->
                <section id="sequence" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">Sequence Diagram</h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Interakcje miƒôdzy komponentami</span>
                        <span class="lang-en">Interactions between components</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Sprawdzenie Dostƒôpno≈õci</span>
                                <span class="lang-en">Availability Check</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
sequenceDiagram
    autonumber
    participant H as Sales Rep
    participant UI as SAP Fiori
    participant API as Cutoff API
    participant CACHE as Redis
    participant HANA as SAP HANA
    
    H->>UI: Enter order
    UI->>API: POST /capacity/check
    API->>CACHE: Check cache
    
    alt Cache HIT
        CACHE-->>API: Cached result
    else Cache MISS
        API->>HANA: SELECT V_CUTOFF
        HANA-->>API: Result
        API->>CACHE: Save TTL 60s
    end
    
    API->>API: Decision algorithm
    
    alt Can ship today
        API-->>UI: can_ship_today: true
        UI-->>H: Ship today
    else Cannot ship today
        API-->>UI: can_ship_today: false
        UI-->>H: Ship tomorrow
    end
                        </pre>
                    </div>
                </section>

                <!-- ========== SECTION: State ========== -->
                <section id="state" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">State Machine</h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Stany systemu w ciƒÖgu dnia</span>
                        <span class="lang-en">System states during the day</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Stany Operacyjne</span>
                                <span class="lang-en">Operational States</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
stateDiagram-v2
    [*] --> OPENING
    OPENING --> ACCEPTING
    ACCEPTING --> WARNING
    WARNING --> ACCEPTING
    WARNING --> CRITICAL
    CRITICAL --> WARNING
    CRITICAL --> CLOSED
    ACCEPTING --> CLOSED
    WARNING --> CLOSED
    CLOSED --> [*]
                        </pre>
                    </div>

                    <div class="mt-6 grid md:grid-cols-4 gap-4">
                        <div class="card p-4 border-l-4 border-emerald-500">
                            <div class="font-semibold text-emerald-400">ACCEPTING</div>
                            <div class="text-xs text-slate-400 mt-1">Util &lt; 70%</div>
                            <div class="text-sm text-slate-300 mt-2">
                                <span class="lang-pl">Normalna praca</span>
                                <span class="lang-en">Normal operations</span>
                            </div>
                        </div>
                        <div class="card p-4 border-l-4 border-yellow-500">
                            <div class="font-semibold text-yellow-400">WARNING</div>
                            <div class="text-xs text-slate-400 mt-1">70-85%</div>
                            <div class="text-sm text-slate-300 mt-2">Alert</div>
                        </div>
                        <div class="card p-4 border-l-4 border-orange-500">
                            <div class="font-semibold text-orange-400">CRITICAL</div>
                            <div class="text-xs text-slate-400 mt-1">85-95%</div>
                            <div class="text-sm text-slate-300 mt-2">
                                <span class="lang-pl">Tylko VIP</span>
                                <span class="lang-en">VIP only</span>
                            </div>
                        </div>
                        <div class="card p-4 border-l-4 border-red-500">
                            <div class="font-semibold text-red-400">CLOSED</div>
                            <div class="text-xs text-slate-400 mt-1">&gt;95%</div>
                            <div class="text-sm text-slate-300 mt-2">
                                <span class="lang-pl">Na jutro</span>
                                <span class="lang-en">Tomorrow</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: ERD ========== -->
                <section id="erd" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">Model Danych ERD</span>
                        <span class="lang-en">Data Model ERD</span>
                    </h2>
                    <p class="text-slate-400 mb-6">Entity Relationship Diagram</p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">
                                <span class="lang-pl">Diagram Encji</span>
                                <span class="lang-en">Entity Diagram</span>
                            </h3>
                        </div>
                        <pre class="mermaid">
erDiagram
    SALES_ORDER ||--o{ ORDER_ITEM : contains
    SALES_ORDER ||--|| CUSTOMER : placedBy
    SALES_ORDER ||--o| DELIVERY : generates
    ORDER_ITEM ||--|| PRODUCT : references
    DELIVERY ||--o{ WAREHOUSE_TASK : requires
    WAREHOUSE_TASK }o--|| RESOURCE : assignedTo
    
    SALES_ORDER {
        string order_id PK
        string customer_id FK
        date created_date
        string status
    }
    
    ORDER_ITEM {
        string order_id FK
        int item_number PK
        decimal quantity
    }
    
    DELIVERY {
        string delivery_id PK
        string order_id FK
        date ship_date
    }
    
    WAREHOUSE_TASK {
        string task_id PK
        string delivery_id FK
        string status
    }
                        </pre>
                    </div>
                </section>

                <!-- ========== SECTION: SAP Tables ========== -->
                <section id="sap-tables" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">Mapowanie na Tabele SAP</span>
                        <span class="lang-en">SAP Tables Mapping</span>
                    </h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Encje logiczne vs tabele SAP</span>
                        <span class="lang-en">Logical entities vs SAP tables</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">Entities ‚Üí SAP Tables</h3>
                        </div>
                        <pre class="mermaid">
flowchart LR
    subgraph LOGICAL[ENTITIES]
        E1[Sales Order]
        E2[Order Item]
        E3[Delivery]
        E4[WH Task]
    end
    
    subgraph SAP[SAP TABLES]
        T1[VBAK]
        T2[VBAP]
        T3[LIKP]
        T4[LTAP]
    end
    
    E1 --> T1
    E2 --> T2
    E3 --> T3
    E4 --> T4
    
    style SAP fill:#1e3a5f,stroke:#3b82f6
                        </pre>
                    </div>

                    <div class="mt-6 card p-4">
                        <h4 class="font-semibold text-white mb-4">
                            <span class="lang-pl">Kluczowe Tabele</span>
                            <span class="lang-en">Key Tables</span>
                        </h4>
                        <table class="w-full text-sm">
                            <thead>
                                <tr class="border-b border-slate-700">
                                    <th class="text-left py-2 text-slate-400">Table</th>
                                    <th class="text-left py-2 text-slate-400">Description</th>
                                    <th class="text-left py-2 text-slate-400">Usage</th>
                                </tr>
                            </thead>
                            <tbody class="text-slate-300">
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-sky-400">VBAK</td>
                                    <td><span class="lang-pl">Nag≈Ç√≥wek zlecenia</span><span class="lang-en">Order header</span></td>
                                    <td>Identification</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-sky-400">VBAP</td>
                                    <td><span class="lang-pl">Pozycje zlecenia</span><span class="lang-en">Order items</span></td>
                                    <td>Workload</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-sky-400">LIKP</td>
                                    <td><span class="lang-pl">Nag≈Ç√≥wek dostawy</span><span class="lang-en">Delivery header</span></td>
                                    <td>Status</td>
                                </tr>
                                <tr class="border-b border-slate-800">
                                    <td class="py-2 font-mono text-sky-400">LTAP</td>
                                    <td><span class="lang-pl">Zlecenie WH</span><span class="lang-en">WH order</span></td>
                                    <td>Tasks</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- ========== SECTION: Timeline ========== -->
                <section id="timeline" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">Harmonogram Projektu</span>
                        <span class="lang-en">Project Timeline</span>
                    </h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Plan realizacji w 3 fazach</span>
                        <span class="lang-en">Implementation plan in 3 phases</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">Gantt Chart</h3>
                        </div>
                        <pre class="mermaid">
gantt
    title Cutoff Time Project
    dateFormat YYYY-MM-DD
    
    section PHASE 1
    Discovery      :f1, 2024-01-08, 2w
    Analysis       :f2, after f1, 2w
    Documentation  :f3, after f2, 2w
    
    section PHASE 2
    Dev HANA       :f4, after f3, 4w
    Dev API        :f5, after f4, 3w
    Testing        :f6, after f5, 2w
    
    section PHASE 3
    Deployment     :f7, after f6, 2w
    Monitoring     :f8, after f7, 1w
    Hypercare      :f9, after f8, 2w
                        </pre>
                    </div>

                    <div class="mt-6 grid md:grid-cols-3 gap-4">
                        <div class="card p-4 border-t-4 border-sky-500">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-white">
                                    <span class="lang-pl">FAZA 1</span><span class="lang-en">PHASE 1</span>: Discovery
                                </span>
                                <span class="badge">6 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                            </div>
                            <div class="text-2xl font-bold text-sky-400">25 600 PLN</div>
                        </div>
                        <div class="card p-4 border-t-4 border-violet-500">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-white">
                                    <span class="lang-pl">FAZA 2</span><span class="lang-en">PHASE 2</span>: PoC
                                </span>
                                <span class="badge">9 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                            </div>
                            <div class="text-2xl font-bold text-violet-400">38-51k PLN</div>
                        </div>
                        <div class="card p-4 border-t-4 border-emerald-500">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-semibold text-white">
                                    <span class="lang-pl">FAZA 3</span><span class="lang-en">PHASE 3</span>: PROD
                                </span>
                                <span class="badge">5 <span class="lang-pl">tyg</span><span class="lang-en">wks</span></span>
                            </div>
                            <div class="text-2xl font-bold text-emerald-400">T&M</div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: Risks ========== -->
                <section id="risks" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        <span class="lang-pl">Analiza Ryzyk</span>
                        <span class="lang-en">Risk Analysis</span>
                    </h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Identyfikacja i mitygacja</span>
                        <span class="lang-en">Identification and mitigation</span>
                    </p>
                    
                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">Risk Matrix</h3>
                        </div>
                        <pre class="mermaid">
quadrantChart
    title Risk Assessment Matrix
    x-axis Low Impact --> High Impact
    y-axis Low Probability --> High Probability
    quadrant-1 CRITICAL
    quadrant-2 HIGH
    quadrant-3 LOW
    quadrant-4 MEDIUM
    
    R1 Missing Docs: [0.7, 0.5]
    R2 Undefined Workload: [0.8, 0.5]
    R3 Env Delays: [0.5, 0.5]
    R5 Variable Load: [0.5, 0.7]
                        </pre>
                    </div>

                    <div class="mt-6 space-y-4">
                        <div class="card p-4 border-l-4 border-red-500">
                            <div class="flex items-start justify-between">
                                <div>
                                    <span class="font-semibold text-white">
                                        R1: <span class="lang-pl">Brak dokumentacji SAP</span><span class="lang-en">Missing SAP documentation</span>
                                    </span>
                                    <p class="text-sm text-slate-400 mt-1">
                                        <span class="lang-pl">Nieznane tabele ≈∫r√≥d≈Çowe</span>
                                        <span class="lang-en">Unknown source tables</span>
                                    </p>
                                </div>
                                <span class="px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs">HIGH</span>
                            </div>
                        </div>
                        <div class="card p-4 border-l-4 border-red-500">
                            <div class="flex items-start justify-between">
                                <div>
                                    <span class="font-semibold text-white">
                                        R2: <span class="lang-pl">Nieokre≈õlona definicja obciƒÖ≈ºenia</span><span class="lang-en">Undefined workload definition</span>
                                    </span>
                                    <p class="text-sm text-slate-400 mt-1">
                                        <span class="lang-pl">Brak wzoru od biznesu</span>
                                        <span class="lang-en">No formula from business</span>
                                    </p>
                                </div>
                                <span class="px-2 py-1 bg-red-500/20 text-red-400 rounded text-xs">HIGH</span>
                            </div>
                        </div>
                        <div class="card p-4 border-l-4 border-yellow-500">
                            <div class="flex items-start justify-between">
                                <div>
                                    <span class="font-semibold text-white">
                                        R3: <span class="lang-pl">Op√≥≈∫nienia ≈õrodowisk</span><span class="lang-en">Environment delays</span>
                                    </span>
                                    <p class="text-sm text-slate-400 mt-1">
                                        <span class="lang-pl">Dostƒôpy do HANA i BTP</span>
                                        <span class="lang-en">HANA and BTP access</span>
                                    </p>
                                </div>
                                <span class="px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded text-xs">MEDIUM</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ========== SECTION: KPIs ========== -->
                <section id="kpis" class="section">
                    <h2 class="text-3xl font-bold text-white mb-2">
                        KPIs & <span class="lang-pl">Metryki Sukcesu</span><span class="lang-en">Success Metrics</span>
                    </h2>
                    <p class="text-slate-400 mb-6">
                        <span class="lang-pl">Jak zmierzymy sukces projektu</span>
                        <span class="lang-en">How we'll measure project success</span>
                    </p>
                    
                    <div class="grid md:grid-cols-2 gap-6 mb-8">
                        <div class="card p-6">
                            <h3 class="font-semibold text-white mb-4">
                                üìä <span class="lang-pl">Metryki Biznesowe</span><span class="lang-en">Business Metrics</span>
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-400">Same-Day Delivery</span>
                                        <span class="text-emerald-400">72% ‚Üí 85%</span>
                                    </div>
                                    <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-gradient-to-r from-sky-500 to-emerald-500" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-400">Promise Accuracy</span>
                                        <span class="text-emerald-400">65% ‚Üí 90%</span>
                                    </div>
                                    <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-gradient-to-r from-sky-500 to-emerald-500" style="width: 90%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card p-6">
                            <h3 class="font-semibold text-white mb-4">
                                ‚öôÔ∏è <span class="lang-pl">Metryki Techniczne</span><span class="lang-en">Technical Metrics</span>
                            </h3>
                            <div class="space-y-4">
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-400">API Response</span>
                                        <span class="text-sky-400">&lt; 500ms</span>
                                    </div>
                                    <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-sky-500" style="width: 100%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-sm mb-1">
                                        <span class="text-slate-400">Availability</span>
                                        <span class="text-sky-400">99.5%</span>
                                    </div>
                                    <div class="h-2 bg-slate-700 rounded-full overflow-hidden">
                                        <div class="h-full bg-sky-500" style="width: 99.5%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="diagram-container">
                        <div class="p-4 border-b border-slate-700">
                            <h3 class="font-semibold text-white">Dashboard Mockup</h3>
                        </div>
                        <div class="p-6 bg-slate-900">
                            <div class="grid grid-cols-4 gap-4">
                                <div class="bg-slate-800 rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-sky-400">14:30</div>
                                    <div class="text-xs text-slate-400">CUTOFF</div>
                                </div>
                                <div class="bg-slate-800 rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-emerald-400">78%</div>
                                    <div class="text-xs text-slate-400">UTIL</div>
                                </div>
                                <div class="bg-slate-800 rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-violet-400">47</div>
                                    <div class="text-xs text-slate-400">ORDERS</div>
                                </div>
                                <div class="bg-slate-800 rounded-lg p-4 text-center">
                                    <div class="text-3xl font-bold text-yellow-400">‚ö†Ô∏è</div>
                                    <div class="text-xs text-slate-400">WARNING</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <script>
        // Language management
        function setLanguage(lang) {
            if (lang === 'en') {
                document.body.classList.add('en');
            } else {
                document.body.classList.remove('en');
            }
            
            document.getElementById('lang-pl-btn').classList.toggle('active', lang === 'pl');
            document.getElementById('lang-en-btn').classList.toggle('active', lang === 'en');
            
            localStorage.setItem('cutoff-lang', lang);
        }
        
        // Mermaid configuration
        mermaid.initialize({
            startOnLoad: false,
            theme: 'dark',
            securityLevel: 'loose',
            flowchart: { useMaxWidth: true, htmlLabels: false, curve: 'basis' },
            sequence: { useMaxWidth: true, mirrorActors: false }
        });

        let currentSection = 'about';

        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden-section'));
            document.getElementById(sectionId).classList.remove('hidden-section');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            const navBtn = document.querySelector(`[data-section="${sectionId}"]`);
            if (navBtn) navBtn.classList.add('active');
            currentSection = sectionId;
            window.scrollTo(0, 0);
        }

        document.addEventListener('DOMContentLoaded', async function() {
            // Load saved language
            const savedLang = localStorage.getItem('cutoff-lang');
            if (savedLang) setLanguage(savedLang);
            
            try {
                await mermaid.run();
                console.log('Mermaid diagrams rendered');
                document.querySelectorAll('.section').forEach(s => s.classList.add('hidden-section'));
                document.getElementById('about').classList.remove('hidden-section');
                document.getElementById('loading').classList.add('done');
            } catch (error) {
                console.error('Mermaid error:', error);
                document.querySelectorAll('.section').forEach(s => s.classList.add('hidden-section'));
                document.getElementById('about').classList.remove('hidden-section');
                document.getElementById('loading').classList.add('done');
            }
        });
    </script>

</body>
</html>
