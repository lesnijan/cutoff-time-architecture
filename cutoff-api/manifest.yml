---
applications:
  - name: cutoff-api
    memory: 512M
    instances: 2
    buildpacks:
      - python_buildpack
    command: uvicorn app.main:app --host 0.0.0.0 --port $PORT --workers 2
    env:
      ENVIRONMENT: production
      PYTHONUNBUFFERED: true
    services:
      - cutoff-hana
      - cutoff-redis
      - cutoff-xsuaa
    routes:
      - route: cutoff-api.cfapps.eu10.hana.ondemand.com
    health-check-type: http
    health-check-http-endpoint: /api/v1/health
    timeout: 180
